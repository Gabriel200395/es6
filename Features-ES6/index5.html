<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Features Es6 - rest operator em funções</title>
    <style>
      #el {
        margin: 10px 15px;
      }
    </style>
  </head>
  <body>
    <input type="button" value="adicionar" id="add" />
    <input type="text" id="vlar" />
    <div id="res"></div>
    <script src="./tets.json"></script>
    <script>
      let arrayElements = [];
      let adicionar = document.getElementById("add");
      adicionar.addEventListener("click", receberElements);
      const addLayout = document.getElementById("res");

      function receberElements() {
        let valor = document.getElementById("vlar").value;
        if (valor.length === 0) {
          alert("escreva algo");
        } else {
          adicionarItem(valor);
          createElement(arrayElements);
        }
      }

      function adicionarItem(item) {
        const addItem = arrayElements.push(item);
        return item;
      }

      /* 
      ES6
      function createElement(array) {
        addLayout.innerHTML = "";

        const el = array
          .map((v) => {
            return `
              <div style="display: flex">
              <li>${v}</li>
              <button onclick=removerElement(arrayElements,removerDom())">Remover</button>
              </div>
            `;
          })
          .join(" ");

        addLayout.innerHTML += el;
        return array;
      }  
      }
      */

      function createElement(array) {
        addLayout.innerHTML = "";
        for (i = 0; i < array.length; i++) {
          const itemArray = array[i];
          const element = document.createElement("li");
          const botao = document.createElement("button");
          botao.textContent = "remover";
          botao.setAttribute(
            "onclick",
            "removerElement(arrayElements,removerDom())"
          );
          element.textContent = `${itemArray}`;
          element.appendChild(botao);
          element.setAttribute("id", "el");
          addLayout.appendChild(element);
        }

        return array;
      }

      /* 
      ES6 // reformulando codigo
       function removerElement(array, item) {
        array.filter((element) => array.splice(element) && item.remove());
        console.log(array);
      */

      function removerElement(array, func) {
        for (i = 0; i < array.length; i++) {
          const pos = array[i];
          array.splice(pos);
          console.log(array);
        }

        return array, func;
      }

      function removerDom() {
        document.getElementById("el").remove();
      }
    </script>
  </body>
</html>
